---
# mdsbuilder
users:
  ball:
    comment: Ellen Ball
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCTKNfnXs0WCG8NBvbKfpp0IES7BBtzlyWw0K99CYo+YUXYQwooI7RjDVmh+GS3rtyknrvsx5Yl68HebGFQD14ljl6zyBgMSlJ0WOjQfYGTWSgd+LHgEM4L9dC4iozgEMzxicB/eHduHagLzPHDarPYs8APJ8/ZxfrCgJWmzC8xvcxtWSbYU+V54PqCMmdxGoNWaWpvLWwmuQhrPBEmW/11yHn6+EV45cvoWCH1ff+Hsb2bnqbE95azwkvJRfeWqmvxpQwe4pnogTcPcJYc8x+zcuGHZm1cYCafalHOK163T07l1fiUpZrR+jFpOq8+ulz/33CG/KZrBozAsV1l7wrp ball@ball-ThinkPadT450-2015"
  bamboo:
    comment: CI Bamboo User
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDLecv3TGVSot9PTmhi3ddmx9ah1KL9tkdHFfugisT4yT3jaI8YV/GDPG+mVo9ru+x8yNWVzxk5YOUWEvjboOq3cMjjHpEeoXiNOTVT3bWwNGXfUkrAO4Oyuk+IW2enLFbiFDKaMvtoCEbkBI24TSb7vOSbuJz6FH0gWBzCqm9/cBSE9QK5JORhzVHNGO5gzN0POiO41MFanmgCEPmEMz56K8b5pkVPUAgj9UTs1maV0C8csItnghQtLJNbEDFGesHw1pUoW+GKQ9cgvbLLEUWi0lJXTpqJDtr8ojgoIsG13CVocQAVt5H6Jgf5UMGhpYMIXjPrJcfoABklo3B3jvqrlUcoEKMnGfS10EFAL1en/VLjDLXHMnpaXirwLqBc/fM3mpOzuc6/coKmvuB/1SBFqPSTi7UMPwgdtB5HmuNTdBYLF0Yk7M3g5oc+i6spUkvMLvFQ1V3iY+FnItW7ifo+kHj2RCtMi/RdsdbUnENi/VMmG33cBP59FGo0vVqRD8U1N51q/7q8Cgep9Hc81uJkOs+PrzJPGyOnyM7WSElmpjwFnQoKWxcNwKv/WHQQG9abSqVnUwrzuLxVCGMAlsrLhPCRj7SktJrktHQdUnQHhfqhh5AKH5mFFvZeyNnS6CZQEDb6C/91EI3J99PIfMYi0TLlixmaK+tnT/0ruWI2bw== bambooagent"
  djazayeri:
    comment: Darius Jazayeri
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC0ted8ZbMokU7mjwoNHhNRuPKyIr2T4NDtatZSHZa/A6e0t+tDi8K1znFMbgZ3ZcVQQh0czcrnwTMMUprTiVyn5WB16Qs0WrfiHfr83/HDkcJA9LbQ3s1bM/f9QJ9Uo5vP5TMpJL8gGueKiSMP1+x6JwJ4EuUZKdsUz+q/WtzxU10ImECWOeOnwGaUkmitPREBzbJSIv8pciq4QJ/fHuYeuvRZOmUYC+V+Rn3C1XEJf1jhRIBahT5KhV02wfmbfXchIAd/WrIbqvVQ5YGg8UwqdN47cxHvNwR5BCqpTY1C3XyCrj13NqflPCGyYyj6+mxs74EMJYAh0nDT/ZSeUvbf jazayeri@alum.mit.edu"
  herbert24:
    commment: Herbert Yiga
    groups: 'admin'
    ssh_key: "ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAICbTmyq1I2MWmUqVNRK5y5hDXel0/0+lu44p5uvv7M0u herbert24@openmrs.org"
  mozzy:
    comment: Mutesasira Moses
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCshLocvRzUOR90M79FF9YrwbelsCdLdQdTZc92blRuY8AwE1AMAt9DQSatOD0+4ivhm6KaY5oRSfaieTuYU1t0DFbBPdBShT6dOpl6TPxjmd/4bWj2MKZaoML6ehpmLvsO7IrPuhxmb0vA8DI8ywdu3YODoYrOT3OZYWIb83MW+h8kNZo4MCyzGDv70ErkDqcZPvJzU8JjGF+S3dK+MNJtbtawLrTzzV5DtGQMcTOM/SoHPiuV8ToMOWzqg9alI8RbJxOGCsfsKJhEY5xsZ0CA/RUUZYZOOIgrO9SHNtdHrYlzC3rLUjOa3wsLEXUjL67X/id6+ly+Y+WFlWxR1ifd Dell@DESKTOP-676A5RJ"
  raff:
    comment: Rafal
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAABJQAAAQEAgc4Q+9e1XMDInFm4GNkuYErYkgDt0KNnmLDTFa+0HV1MuQKP+TE3Ee9Qdx5rugNkg9+e45Hzfze/vX/nYjrNAkWcxYaxEAdej/6QW4Bh4r6rRLnNoqnksG3+WVXl2cqOf9odji2L+uzA2E+zX5tEYqVkN9+0z1Ewwe6lcSg0zRQyJ+phIo595eftYJGAiLAhIfSotg8SxWJhSHUsNtphyXRld7FtxXDgfu6SkejvakymwXEuMe7yS2mES9U8IlJh4CyADGaqb0WSWfqsejcgMuXJmnEqpMqVwcDaP4B+NZLTKfUUlc2D8DiUKRqlnxuGCFmkpghTQkX4dE0YhxJSjQ== raff"
  reubenv:
    comment: Reuben Varghese
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAACAQDC56Nq8RAW01bxu9/6Vu0C7djQLnWubAN7ORozum88Ro+ynBZqGZSwripaMJQoU03H5e6GlUH5i1dOINQwQzJcfM2uTWqkYn4u4S8gXNRtoaoZF1lh5qHa66qN8LA+dIio/XbBVPD1WC/lTDwiPQJNZCXbXI92kk3NRe2aFR6T/uKS3hn8TTzrOEcJkSWil1ebP0McvqzcZdrqx8I7BzEkVvi72mHoPfuQN0/CfIq+yGi7Ldaw1khQ9H3dbtcHOWo1vnhIltejofaRVfAP/CmB1yruQPnGNkvB8a6izzTVs4ciBoIc0J1vURgOfv5E0lfP/ZGi7aanQTaILF9W0lLed3S+/x4qKh8wNQptmHVYDt+/3E3Xirp5rIl5pesIWq6+1sYUa00qiuxowJZSM28vXLI5Y0dsYZGDGvpcz7LKPmS/Gv7lGOZl3l31+I3FhW34oSBe3izREwxl3t9tYgCVALjPgXo4j+1s6/vA9Sp5dokaze7AQ7lYiyVoNBoJoMLpM15crFGjK1BxwmazUhpzdGfr/W9R1Jy+95GGa7Ly46gPz1KfJxYEbpNN4RDQvFPq/m7YYLn0l4gqUk9IeVrfR2mpwVYKk/rAJgKC14d9CKPmXJvPQGYxu2LUQjOb8Qb62OzjVizLnfxxsFBGJGzAttOEQ+2AnZdt5YE2S9WfaQ== reubenvarghese1@Christopher"
  sharif:
    comment: Sharif Magembe
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQCdQJKVKmH6XSALZrxsL+8DqOaTvaKREoGqzu6pHUem4vBzmNcpIQfON5JuNVH7mHvPUVX9CgDnBV4dmDewCIQVP9ZJCxCqFut+qWQ5mjNv4m/dXD+76237x37C7ig17xd6rTdOzHIwel7SJqWvjfKCLf4OUSXupWq4egBRHCHfM5thl5SFXRgqkPZ6TpZrSB08bDx51IA54hvnLelvd09OaJUH2V34bUF5TyAAVgCwCPAY4cXlHul7o3QxPph0u8MMTChh7jFA+rGlwMcXSNcf6N1EsnwdjRjZtr89jXu+lAA93yKmOlFDvRTCxa1/02k29aJaWqmqly4gpujKILMXBKkKUt1Dhx6EebJAnXhDf/TaSbp3hyBw7izwFJSoDlJ8+NMEoeCY2Tz2bObl8FpCTl/RZ6rOU8uO1dIJ6LYfgtYJT2EXJuD5cUrNMOVd9nTwhIOIyvrGKxe/21ZgeqgBhIQzXRkW6x4+ipLPmz9rMuENjYEXgGaHiwYP4kA5nq8= SHARIF@SHARIF"
  ssmusoke:
    comment: Stephen Senkomago Musoke
    groups: 'admin'
    ssh_key: "ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQC5SkqLh3kCYW8c/lpJD3H+JiqgJ7hSNd1UyFTDOee2gzGNFu/v5hdWvPucMvsLWLnBgw0eFCDuZxE+qIV93d4PGfOllQkV522DSFJ4vjEzVqmJoeVNkqlNN3LL8ywS5uU7lkxlYEhLUqNRio4p7GrL3A8UkCC9D+UNMuSXGjZYYMXWt0N61O423KgW/pV+IuyNy4VdN0/UlZe9MYP/ooe5ziAJJ4MDJIrVg6WMDmglhWIWTrsAjY59j3M8e7fwxjfTPZRJmVq1drtvR5rjIz2eYBhHvEEWOVMXJeWJ+QuS/+ug0y+2ds7nD4jpefyywgGZQrUGQmXUtK/mtLMa5b4p ssmusoke@Kabanda.local"
datadog_tags_extra:
  - "service:openmrs-platform"


docker_deployment:
  - mdsbuilder
  - uat-platform
  - emr-3-dev
  - emr-3-demo
  - emr-3-ohri

letsencrypt_cert_domains:
   - dowa.openmrs.org
   - mdsbuilder.openmrs.org
   - uat-platform.openmrs.org
   - dev3.openmrs.org
   - o3.openmrs.org
   - ohri.o3.openmrs.org

nginx_vhosts:
  - listen: "80 default_server"
    server_name: "mdsbuilder.openmrs.org"
    filename: "mdsbuilder.openmrs.org.80.conf"
    extra_parameters: |
      return 301 https://$host$request_uri;
  - listen: "443 ssl"
    server_name: "mdsbuilder.openmrs.org"
    extra_parameters: |
      access_log /var/log/nginx/mdsbuilder_access.log;
      error_log /var/log/nginx/mdsbuilder_error.log;
      ssl_certificate /etc/letsencrypt/live/dowa.openmrs.org/fullchain.pem;
      ssl_certificate_key /etc/letsencrypt/live/dowa.openmrs.org/privkey.pem;
      location ^~ /.well-known/acme-challenge/ {
        root /usr/share/nginx/html;
      }
      location / {
        return 301 https://mdsbuilder.openmrs.org/openmrs;
      }
      location /openmrs {
        proxy_set_header HOST $host;
        proxy_set_header  X-Forwarded-Proto $scheme;
        proxy_pass http://127.0.0.1:8080/openmrs;
      }
  - listen: "80"
    server_name: "uat-platform.openmrs.org"
    filename: "uat-platform.openmrs.org.80.conf"
    extra_parameters: |
      return 301 https://$host$request_uri;
  - listen: "443 ssl"
    server_name: "uat-platform.openmrs.org"
    extra_parameters: |
      access_log /var/log/nginx/uatplatform_access.log;
      error_log /var/log/nginx/uatplatform_error.log;
      ssl_certificate /etc/letsencrypt/live/dowa.openmrs.org/fullchain.pem;
      ssl_certificate_key /etc/letsencrypt/live/dowa.openmrs.org/privkey.pem;
      location ^~ /.well-known/acme-challenge/ {
        root /usr/share/nginx/html;
      }
      location / {
        return 301 https://uat-platform.openmrs.org/openmrs;
      }
      location /openmrs {
        proxy_set_header HOST $host;
        proxy_set_header  X-Forwarded-Proto $scheme;
        proxy_pass http://127.0.0.1:8081/openmrs;
      }
  - listen: "80"
    server_name: "dev3.openmrs.org"
    filename: "dev3.openmrs.org.80.conf"
    extra_parameters: |
      return 301 https://$host$request_uri;
  - listen: "443 ssl"
    server_name: "dev3.openmrs.org"
    extra_parameters: |
      access_log /var/log/nginx/dev3_access.log;
      error_log /var/log/nginx/dev3_error.log;
      ssl_certificate /etc/letsencrypt/live/dowa.openmrs.org/fullchain.pem;
      ssl_certificate_key /etc/letsencrypt/live/dowa.openmrs.org/privkey.pem;
      location ^~ /.well-known/acme-challenge/ {
        root /usr/share/nginx/html;
      }
      location / {
        proxy_set_header HOST $host;
        proxy_set_header  X-Forwarded-Proto $scheme;
        proxy_set_header  X-Real-IP $remote_addr;
        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://127.0.0.1:8084/;
      }
  - listen: "80"
    server_name: "o3.openmrs.org"
    filename: "o3.openmrs.org.80.conf"
    extra_parameters: |
      return 301 https://$host$request_uri;
  - listen: "443 ssl"
    server_name: "o3.openmrs.org"
    extra_parameters: |
      access_log /var/log/nginx/o3_access.log;
      error_log /var/log/nginx/o3_error.log;
      ssl_certificate /etc/letsencrypt/live/dowa.openmrs.org/fullchain.pem;
      ssl_certificate_key /etc/letsencrypt/live/dowa.openmrs.org/privkey.pem;
      location ^~ /.well-known/acme-challenge/ {
        root /usr/share/nginx/html;
      }
      location / {
        proxy_set_header HOST $host;
        proxy_set_header  X-Forwarded-Proto $scheme;
        proxy_set_header  X-Real-IP $remote_addr;
        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://127.0.0.1:8085/;
      }
  - listen: "80"
    server_name: "ohri.o3.openmrs.org"
    filename: "ohri.o3.openmrs.org.80.conf"
    extra_parameters: |
      return 301 https://$host$request_uri;
  - listen: "443 ssl"
    server_name: "ohri.o3.openmrs.org"
    extra_parameters: |
      access_log /var/log/nginx/o3_access.log;
      error_log /var/log/nginx/o3_error.log;
      ssl_certificate /etc/letsencrypt/live/dowa.openmrs.org/fullchain.pem;
      ssl_certificate_key /etc/letsencrypt/live/dowa.openmrs.org/privkey.pem;
      location ^~ /.well-known/acme-challenge/ {
        root /usr/share/nginx/html;
      }
      location / {
        proxy_set_header HOST $host;
        proxy_set_header  X-Forwarded-Proto $scheme;
        proxy_set_header  X-Real-IP $remote_addr;
        proxy_set_header  X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_pass http://127.0.0.1:8086/;
      }
  - listen: "443 ssl"
    server_name: "dowa.openmrs.org"
    extra_parameters: |
      access_log /var/log/nginx/deployer_access.log;
      error_log /var/log/nginx/deployer_error.log;
      ssl_certificate /etc/letsencrypt/live/dowa.openmrs.org/fullchain.pem;
      ssl_certificate_key /etc/letsencrypt/live/dowa.openmrs.org/privkey.pem;
      location ^~ /.well-known/acme-challenge/ {
        root /usr/share/nginx/html;
      }
      location / {
        proxy_pass http://127.0.0.1:3000/;
      }

aws_access_key_id: '{{ vault_aws_access_key_id }}'
aws_secret_access_key: '{{ vault_aws_secret_access_key }}'
backup_tag: 'configured'
